apiVersion: icp4a.ibm.com/v1
kind: ICP4ACluster
metadata:
  namespace: cp4ba
  name: icp4adeploy
  labels:
    app.kubernetes.io/instance: ibm-dba
    app.kubernetes.io/managed-by: ibm-dba
    app.kubernetes.io/name: ibm-dba
#    release: 21.0.1
spec:
  ## MUST exist, used to accept ibm license, valid value only can be "accept"
  ibm_license: accept
  #####################################################################################################################
  ##  The contents of this template CR file reflect only the specific parameters and configuration
  ##  settings applicable to the represented ICP4A capability.
  ##
  ##  These values/configuration sections are to be used when manually assembling or updating the main
  ##  ICP4A CR that is being applied in order to install an ICP4A environment.
  ##
  ##  If you are in the process of preparing a new install of an ICP4A environment,
  ##  you should merge the required values and configuration sections from this file into the
  ##  starting point CR template: ibm_cp4ba_cr_enterprise_foundation.yaml available in the
  ##  same location as this template.
  ##
  ##  If you updating an existing ICP4A environment, you should merge the required values and configuration
  ##  sections from this template in the main ICP4A CR file already applied in the environment.
  ##
  #####################################################################################################################
  olm_ent_workflow: false
  olm_ent_option_bai: false
  olm_demo_application: true
  olm_deployment_type: demo
  olm_ent_decisions_ads: false
  olm_ent_option_adp:
    cmis: false
    css: false
    document_processing_runtime: false
    es: false
    tm: false
  olm_ibm_license: true
  initialize_configuration:
    ic_ldap_creation:
      ic_ldap_admins_groups_name:
        - ''
    ic_obj_store_creation:
      object_stores:
        - oc_cpe_obj_store_conn:
            dc_os_datasource_name: FNOS1DS
            dc_os_xa_datasource_name: FNOS1DSXA
          oc_cpe_obj_store_display_name: OS1
          oc_cpe_obj_store_symb_name: OS1
        - oc_cpe_obj_store_joel.goddot@ibm.com_groups:
            - ''
            - ''
          oc_cpe_obj_store_conn:
            dc_os_datasource_name: DEVOS1DS
            dc_os_xa_datasource_name: DEVOS1DSXA
          oc_cpe_obj_store_display_name: DEVOS1
          oc_cpe_obj_store_symb_name: DEVOS1
        - oc_cpe_obj_store_conn:
            dc_os_datasource_name: BAWDOCS
            dc_os_xa_datasource_name: BAWDOCSXA
          oc_cpe_obj_store_display_name: BAWDOCS
          oc_cpe_obj_store_symb_name: BAWDOCS
        - oc_cpe_obj_store_conn:
            dc_os_datasource_name: BAWDOS
            dc_os_xa_datasource_name: BAWDOSXA
          oc_cpe_obj_store_display_name: BAWDOS
          oc_cpe_obj_store_symb_name: BAWDOS
        - oc_cpe_obj_store_conn:
            dc_os_datasource_name: BAWTOS
            dc_os_xa_datasource_name: BAWTOSXA
          oc_cpe_obj_store_display_name: BAWTOS
          oc_cpe_obj_store_enable_workflow: true
          oc_cpe_obj_store_symb_name: BAWTOS
          oc_cpe_obj_store_workflow_admin_group: ''
          oc_cpe_obj_store_workflow_config_group: ''
          oc_cpe_obj_store_workflow_data_tbl_space: ''
          oc_cpe_obj_store_workflow_pe_conn_point_name: ''
        - oc_cpe_obj_store_conn:
            dc_os_datasource_name: AWSINS1DOCS
            dc_os_xa_datasource_name: AWSINS1DOCSXA
          oc_cpe_obj_store_display_name: AWSINS1DOCS
          oc_cpe_obj_store_symb_name: AWSINS1DOCS
        - oc_cpe_obj_store_conn:
            dc_os_datasource_name: AEOS
            dc_os_xa_datasource_name: AEOSXA
          oc_cpe_obj_store_display_name: AEOS
          oc_cpe_obj_store_symb_name: AEOS
  olm_ent_option_application:
    app_designer: false
  olm_ent_option_ads:
    ads_designer: true
    ads_runtime: true
  olm_demo_decisions: true
  olm_demo_document_processing: true
  olm_demo_workflow: true
  olm_demo_content: true
  olm_demo_option_bai: true
  olm_ent_application: false
  olm_ent_option_decisions:
    decisionCenter: false
    decisionRunner: false
    decisionServerRuntime: false
    ums: false
  olm_demo_option_adp:
    cmis: false
    css: false
    tm: false
  olm_ent_option_content:
    cmis: false
    css: false
    es: false
    iccsap: false
    ier: false
    tm: false
    ums: false
  olm_ent_decisions: false
  olm_ent_document_processing: false
  olm_ent_content: true
  appVersion: 21.0.2
  olm_demo_decisions_ads: true
  datasource_configuration:
    dc_ca_datasource:
      tenant_databases: []
      dc_hadr_retry_interval_for_client_reroute: 15
      dc_hadr_max_retries_for_client_reroute: 3
      database_port: ''
      dc_database_ssl_enabled: true
      dc_hadr_standby_port: ''
      database_ip: ''
      database_name: ''
      dc_hadr_standby_ip: ''
      database_servername: ''
      dc_hadr_validation_timeout: 15
      dc_hadr_standby_servername: ''
      dc_database_type: db2
    dc_ums_datasource:
      dc_ums_oauth_ssl: true
      dc_ums_teamserver_host: ''
      dc_ums_teamserver_name: ''
      dc_ums_oauth_type: db2
      dc_ums_teamserver_alternate_hosts: ''
      dc_ums_teamserver_ssl_secret_name: ''
      dc_ums_oauth_schema: OAuthDBSchema
      dc_ums_oauth_port: ''
      dc_ums_teamserver_ssl: true
      dc_ums_teamserver_alternate_ports: ''
      dc_ums_teamserver_driverfiles: ''
      dc_ums_oauth_host: ''
      dc_ums_teamserver_type: db2
      dc_ums_oauth_name: ''
      dc_ums_oauth_ssl_secret_name: ''
      dc_ums_teamserver_port: ''
    database_precheck: true
    dc_odm_datasource:
      database_servername: ''
      dc_common_database_instance_secret: ''
      dc_common_database_name: ''
      dc_common_database_port: ''
      dc_common_ssl_enabled: true
      dc_database_type: db2
      dc_ssl_secret_name: ''
    dc_ssl_enabled: true
    dc_icn_datasource:
      database_ssl_secret_name: ''
      dc_hadr_retry_interval_for_client_reroute: 15
      dc_hadr_max_retries_for_client_reroute: 3
      database_port: ''
      dc_common_icn_datasource_name: ECMClientDS
      dc_hadr_standby_port: ''
      database_name: ''
      database_servername: ''
      dc_hadr_validation_timeout: 15
      dc_oracle_icn_jdbc_url: ''
      dc_hadr_standby_servername: ''
      dc_database_type: db2
    olm_dc_os_adp_datasources:
      - database_name: ''
        database_port: ''
        database_servername: ''
        database_ssl_secret_name: ''
        dc_common_os_datasource_name: DEVOS1DS
        dc_common_os_xa_datasource_name: DEVOS1DSXA
        dc_database_type: db2
        dc_hadr_max_retries_for_client_reroute: 3
        dc_hadr_retry_interval_for_client_reroute: 15
        dc_hadr_standby_port: ''
        dc_hadr_standby_servername: ''
        dc_hadr_validation_timeout: 15
        dc_oracle_os_jdbc_url: ''
        dc_os_label: devos1
    olm_dc_os_workflow_datasources:
      - database_name: ''
        database_port: ''
        database_servername: ''
        database_ssl_secret_name: ''
        dc_common_os_datasource_name: BAWDOCS
        dc_common_os_xa_datasource_name: BAWDOCSXA
        dc_database_type: db2
        dc_hadr_max_retries_for_client_reroute: 3
        dc_hadr_retry_interval_for_client_reroute: 15
        dc_hadr_standby_port: ''
        dc_hadr_standby_servername: ''
        dc_hadr_validation_timeout: 15
        dc_oracle_os_jdbc_url: ''
        dc_os_label: ''
      - database_name: ''
        database_port: ''
        database_servername: ''
        database_ssl_secret_name: ''
        dc_common_os_datasource_name: BAWDOS
        dc_common_os_xa_datasource_name: BAWDOSXA
        dc_database_type: db2
        dc_hadr_max_retries_for_client_reroute: 3
        dc_hadr_retry_interval_for_client_reroute: 15
        dc_hadr_standby_port: ''
        dc_hadr_standby_servername: ''
        dc_hadr_validation_timeout: 15
        dc_oracle_os_jdbc_url: ''
        dc_os_label: ''
      - database_name: ''
        database_port: ''
        database_servername: ''
        database_ssl_secret_name: ''
        dc_common_os_datasource_name: BAWTOS
        dc_common_os_xa_datasource_name: BAWTOSXA
        dc_database_type: db2
        dc_hadr_max_retries_for_client_reroute: 3
        dc_hadr_retry_interval_for_client_reroute: 15
        dc_hadr_standby_port: ''
        dc_hadr_standby_servername: ''
        dc_hadr_validation_timeout: 15
        dc_oracle_os_jdbc_url: ''
        dc_os_label: ''
      - database_name: ''
        database_port: ''
        database_servername: ''
        database_ssl_secret_name: ''
        dc_common_os_datasource_name: AWSINS1DOCS
        dc_common_os_xa_datasource_name: AWSINS1DOCSXA
        dc_database_type: db2
        dc_hadr_max_retries_for_client_reroute: 3
        dc_hadr_retry_interval_for_client_reroute: 15
        dc_hadr_standby_port: ''
        dc_hadr_standby_servername: ''
        dc_hadr_validation_timeout: 15
        dc_oracle_os_jdbc_url: ''
        dc_os_label: ''
    dc_gcd_datasource:
      database_ssl_secret_name: ''
      dc_oracle_gcd_jdbc_url: ''
      dc_hadr_retry_interval_for_client_reroute: 15
      dc_hadr_max_retries_for_client_reroute: 3
      database_port: ''
      dc_hadr_standby_port: ''
      database_name: ''
      database_servername: ''
      dc_hadr_validation_timeout: 15
      dc_hadr_standby_servername: ''
      dc_common_gcd_xa_datasource_name: FNGCDDSXA
      dc_common_gcd_datasource_name: FNGCDDS
      dc_database_type: db2
    olm_dc_os_ae_datasources:
      - database_name: ''
        database_port: ''
        database_servername: ''
        database_ssl_secret_name: ''
        dc_common_os_datasource_name: AEOS
        dc_common_os_xa_datasource_name: AEOSXA
        dc_database_type: db2
        dc_hadr_max_retries_for_client_reroute: 3
        dc_hadr_retry_interval_for_client_reroute: 15
        dc_hadr_standby_port: ''
        dc_hadr_standby_servername: ''
        dc_hadr_validation_timeout: 15
        dc_oracle_os_jdbc_url: ''
        dc_os_label: aeos
    olm_dc_os_content_datasources:
      - database_name: ''
        database_port: ''
        database_servername: ''
        database_ssl_secret_name: ''
        dc_common_os_datasource_name: FNOS1DS
        dc_common_os_xa_datasource_name: FNOS1DSXA
        dc_database_type: db2
        dc_hadr_max_retries_for_client_reroute: 3
        dc_hadr_retry_interval_for_client_reroute: 15
        dc_hadr_standby_port: ''
        dc_hadr_standby_servername: ''
        dc_hadr_validation_timeout: 15
        dc_oracle_os_jdbc_url: ''
        dc_os_label: os
  shared_configuration:
    show_sensitive_log: true
    trusted_certificate_list: ["trustedCertificateList"]
    sc_deployment_baw_license: non-production
    sc_content_verification: false
    external_tls_certificate_secret: ''
    storage_configuration:
      sc_dynamic_storage_classname: ''
      ibmc-file-gold-gid:
      sc_medium_file_storage_classname: ''
      sc_slow_file_storage_classname: ''
    sc_image_repository: cp.icr.io
    root_ca_secret: icp4a-root-ca
    sc_content_initialization: false
    sc_deployment_license: non-production
    sc_ingress_enable: true
    sc_ingress_tls_secret_name: ''
    sc_deployment_platform: ROKS
    sc_deployment_patterns: "document_processing"
    sc_deployment_hostname_suffix: ''
    sc_deployment_fncm_license: non-production
    sc_optional_components: "ae_data_persistence, document_processing_designer, bai, cmis"
    sc_deployment_type: "enterprise"
    encryption_key_secret: 'ibm-iaws-shared-key-secret'
    sc_cpe_limited_storage: false
    image_pull_secrets:
    - admin.registrykey
  olm_demo_option_content:
    cmis: false
    css: false
    iccsap: false
    ier: false
    tm: false
    ums: false
  olm_ent_option_ae_data_persistence: false
  ## The beginning section of LDAP configuration for CP4A
  ldap_configuration:
    ## The possible values are: "IBM Security Directory Server" or "Microsoft Active Directory"
    lc_selected_ldap_type: “IBM Security Directory Server"
    ## The name of the LDAP server to connect
    lc_ldap_server: "150.238.92.26"
    ## The port of the LDAP server to connect.  Some possible values are: 389, 636, etc.
    lc_ldap_port: "389"
    ## The LDAP bind secret for LDAP authentication.  The secret is expected to have ldapUsername and ldapPassword keys.  Refer to Knowledge Center for more info.
    lc_bind_secret: ldap-bind-secret
    ## The LDAP base DN.  For example, "dc=example,dc=com", "dc=abc,dc=com", etc
    lc_ldap_base_dn: "o=CP"
    ## Enable SSL/TLS for LDAP communication. Refer to Knowledge Center for more info.
    lc_ldap_ssl_enabled: false
    ## The name of the secret that contains the LDAP SSL/TLS certificate.
    lc_ldap_ssl_secret_name: "<Required>"
    ## The LDAP user name attribute.  One possible value is "*:cn" for TDS and "user:sAMAccountName" for AD. Refer to Knowledge Center for more info.
    lc_ldap_user_name_attribute: "*:cn"
    ## The LDAP user display name attribute. One possible value is "cn" for TDS and "sAMAccountName" for AD. Refer to Knowledge Center for more info.
    lc_ldap_user_display_name_attr: "cn"
    ## The LDAP group base DN.  For example, "dc=example,dc=com", "dc=abc,dc=com", etc
    lc_ldap_group_base_dn: ou=Groups,o=CP
    ## The LDAP group name attribute.  One possible value is "*:cn" for TDS and "*:cn" for AD. Refer to Knowledge Center for more info.
    lc_ldap_group_name_attribute: "*:cn"
    ## The LDAP group display name attribute.  One possible value for both TDS and AD is "cn". Refer to Knowledge Center for more info.
    lc_ldap_group_display_name_attr: "cn"
    ## The LDAP group membership search filter string.  One possible value is "(&(cn=%v)(|(objectclass=groupOfNames)(objectclass=groupOfUniqueNames)(objectclass=groupOfURLs)))" for TDS
    ## and "(&(cn=%v)(objectcategory=group))" for AD.
    lc_ldap_group_membership_search_filter: "(|(&(objectclass=groupofnames)(member={0}))(&(objectclass=groupofuniquenames)(uniquemember={0})))"
    ## The LDAP group membership ID map.  One possible value is "groupofnames:member" for TDS and "memberOf:member" for AD.
    lc_ldap_group_member_id_map: "groupofnames:member"
    ## The User script will uncomment the section needed based on user's input from User script.  If you are deploying without the User script,
    ## uncomment the necessary section (depending if you are using Active Directory (ad) or Tivoli Directory Service (tds)) accordingly.
    #    ad:
    #      lc_ad_gc_host: "<Required>"
    #      lc_ad_gc_port: "<Required>"
    #      lc_user_filter: "(&(cn=%v)(objectclass=person))"
    #      lc_group_filter: "(&(cn=%v)(|(objectclass=groupofnames)(objectclass=groupofuniquenames)(objectclass=groupofurls)))"
    tds:
      lc_user_filter: "(&(cn=%v)(objectclass=person))"
      lc_group_filter: "(&(cn=%v)(|(objectclass=groupofnames)(objectclass=groupofuniquenames)(objectclass=groupofurls)))"
  ## The beginning section of database configuration for CP4A
  ########################################################################
  ########   IBM User and Group Management Service configuration  ########
  ########################################################################
  ums_configuration:
  ########################################################################
  ########      IBM Business Automation Insights configuration    ########
  ########################################################################
  bai_configuration:
    business_performance_center:
      # The number of Business Performance Center replicas. For High Availability,
      # use at least 2 replicas.
      replicas: 2
    admin:
      # The number of Admin service replicas. For High Availability,
      # use at least 2 replicas.
      replicas: 2
    management:
      # The number of Management service replicas. For High Availability,
      # use at least 2 replicas.
      replicas: 2
    # The Flink job for processing BPMN events.
    # Enabled automatically if BAI is selected as an optional component of
    # workflow or workflow-workstreams patterns.
    bpmn:
      # The number of parallel instances (task slots) to use for running the processing job.
      # For High Availability, use at least 2 parallel instances.
      parallelism: 2
    # The Flink job for processing BAW Advanced events.
    # Disabled by default. Can be enabled by setting `bawadv.install` to true.
    bawadv:
      # The number of parallel instances (task slots) to use for running the processing job.
      # For High Availability, use at least 2 parallel instances.
      parallelism: 2
    # The Flink job for processing ICM events.
    # Enabled automatically if BAI is selected as an optional component of
    # workflow or workflow-workstreams patterns.
    icm:
      # The number of parallel instances (task slots) to use for running the processing job.
      # For High Availability, use at least 2 parallel instances.
      parallelism: 2
    # The Flink job for processing ODM events.
    # Enabled automatically if BAI is selected as an optional component of
    # decisions pattern.
    odm:
      # The number of parallel instances (task slots) to use for running the processing job.
      # For High Availability, use at least 2 parallel instances.
      parallelism: 2
    # The Flink job for processing Content events.
    # Enabled automatically if BAI is selected as an optional component of
    # content pattern.
    content:
      # The number of parallel instances (task slots) to use for running the processing job.
      # For High Availability, use at least 2 parallel instances.
      parallelism: 2
    # The Flink job for processing events from custom sources and events based on Avro schema.
    # Its configuration is automatic for events emitted by ADS and BA ML Workforce Insights.
    # For custom events, its configuration must be filled in the Custom Resource as documented in
    # the Knowledge Center.
    event_forwarder:
      # The number of parallel instances (task slots) to use for running the processing job.
      # For High Availability, use at least 2 parallel instances.
      parallelism: 2
    # The Flink job for ingesting events into HDFS (Hadoop Distributed File System).
    # Disabled by default. Can be enabled by setting `ingestion.install` to true and
    # by completing the prerequisite configuration for HFDS as documented in the KnowledgeCenter.
    ingestion:
      # The number of parallel instances (task slots) to use for running the processing job.
      # For High Availability, use at least 2 parallel instances.
      parallelism: 2
  #############################################################################
  ######## IBM Business Automation Application server  configurations  ########
  ##  This section contains the configurations for                           ##
  ##  * App Engine Server                                                    ##
  ##  it's the optional component and will be installed when                 ##
  ##  patterns include: application, workflow, workstreams,                  ##
  ##                    workflow-workstreams or document_processing          ##
  #############################################################################
  application_engine_configuration:
    - name: workspace ## The application_engine_configuration is a list. You can deploy multiple instances of App Engine and assign different configurations for each instance.
      #Adjust this one if you created the secret with name other than the default
      admin_secret_name: "{{ meta.name }}-workspace-aae-app-engine-admin-secret"
      #-----------------------------------------------------------------------
      # The app engine admin Secret template will be
      #-----------------------------------------------------------------------
      # apiVersion: v1
      # stringData:
      #   AE_DATABASE_PWD: "<Your database password>"
      #   AE_DATABASE_USER: "<Your database username>"
      #   REDIS_PASSWORD: "<Your Redis server password>"
      # kind: Secret
      # metadata:
      #   name: icp4adeploy-workspace-aae-app-engine-admin-secret
      # type: Opaque
      #-----------------------------------------------------------------------
      # Designate an existing LDAP user for the Application Engine admin user.
      # This user ID should be in the IBM Business Automation Navigator administrator role, as specified as appLoginUsername in the Navigator secret.
      # This user should also belong to the User Management Service (UMS) Teams admin group or the UMS Teams Administrators team.
      # If not, follow the instructions in "Completing post-deployment tasks for Business Automation Studio and Application Engine" in the IBM Knowledge Center to add it to the Navigator Administrator role and UMS team server admin group.
      joel.goddot@ibm.com:
      ## optional when the database type is Db2, must required when the database type is Oracle, PostgreSQL.
      use_custom_jdbc_drivers: false
      database:
        #-----------------------------------------------------------------------
        # Configuration required for configure DB2 for App engine server
        # If you are going to use Oracle. Please comment out this section
        #-----------------------------------------------------------------------
        #Provide the database server hostname for runtime application engine use
        host: "<Required>"
        #Provide the database name for runtime application engine use
        #Please pay attention that if you are install authoring environment also.
        #The database used by playback server and this one should be different
        name: "<Required>"
        #Provide the database server port for runtime application engine use
        port: "<Required>"
        ## If you set up DB2 HADR and want to use it, you must configure alternative_host and alternative_port. Otherwise, leave them blank.
        alternative_host:
        alternative_port:
        type: db2
        #-----------------------------------------------------------------------
        # Configuration required for configure Oracle for App engine server
        # If you are going to use Oracle. Please uncomment this section
        #-----------------------------------------------------------------------
        # type: oracle
        # ## Required only when type is Oracle, both ssl and non-ssl. The format must be purely oracle descriptor like (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=<your database host/IP>)(PORT=<your database port>))(CONNECT_DATA=(SERVICE_NAME=<your oracle service name>)))
        # oracle_url_without_wallet_directory: <Required>
        # ## Required only when type is Oracle and enable_ssl is true. The format must be purely oracle descriptor. SSO wallet directory must be specified and fixed to (MY_WALLET_DIRECTORY=/shared/resources/oracle/wallet).
        # oracle_url_with_wallet_directory:
        # ## Required only when type is oracle and enable_ssl is true.
        # oracle_sso_wallet_secret_name:
        # ## The persistent volume claim for custom JDBC Drivers if using the custom jdbc drivers is enabled
        # custom_jdbc_pvc: <Required>
        #-----------------------------------------------------------------------
        # Configuration required for configure PostgreSQL for App engine server
        # If you are going to use PostgreSQL. Please uncomment this section
        #-----------------------------------------------------------------------
        # type: PostgreSQL
        # ## The persistent volume claim for custom JDBC Drivers if using the custom jdbc drivers is enabled
        # custom_jdbc_pvc: <Required>
        # #Provide the database server hostname for runtime application engine use
        # host: "<Required>"
        # #Provide the database name for runtime application engine use
        # #Please pay attention that if you are install authoring environment also.
        # #The database used by playback server and this one should be different
        # name: "<Required>"
        # #Provide the database server port for runtime application engine use
        # port: "<Required>"
        # ## If you want to enable PostgreSQL Connection Fail-over, you must configure alternative_host and alternative_port. Otherwise, leave them blank.
        # alternative_host:
        # alternative_port:
        #-----------------------------------------------------------------------
        # SSL connection for database is enabled by default. Please input the secret name including cert
        #-----------------------------------------------------------------------
        enable_ssl: true
        db_cert_secret_name: <Required>
      #-----------------------------------------------------------------------
      # If you want better HA experience.
      # - Set the session.use_external_store to true
      # - Fill in your redis server information
      #-----------------------------------------------------------------------
      session:
        use_external_store: false
      redis:
        # Your external redis host/ip
        host:
        # Your external redis port
        port: '6379'
        # If your redis enabled TLS connection set this to true
        # You should add redis server CA certificate in tls_trust_list or trusted_certificate_list
        tls_enabled: false
  ########################################################################
  ########   IBM Business Automation Workflow configuration     ########
  ########################################################################
  baw_configuration:
    - name: bawins1 ## The baw_configuration is a list. You can deploy multiple instances of Workflow Server and assign different configurations for each instance.
      ## Workflow Server capability.
      capabilities: "workflow"
      ## Designate an existing LDAP user for the Workflow Server admin user.
      joel.goddot@ibm.com: "<Required>"
      ## Whether the Business Automation Workflow instance hosts federated Process Portal and integrates with Intelligent Task Prioritization.
      host_federated_portal: true
      ## The database configuration for Workflow Server
      database:
        ## Whether to enable Secure Sockets Layer (SSL) support for the Workflow Server database connection.
        enable_ssl: true
        ## Secret name for storing the database TLS certificate when an SSL connection is enabled. Required only when enable_ssl is true
        db_cert_secret_name: "<Required>"
        ## Workflow Server database type. Possible values are: db2, oracle, postgresql
        type: "db2"
        ## Workflow Server database server name. This parameter is required.
        server_name: "<Required>"
        ## Workflow Server database name. This parameter is required.
        database_name: "<Required>"
        ## Workflow Server database port. This parameter is required. For DB2, the default value is "50000"
        port: "<Required>"
        ## Workflow Server database secret name. This parameter is required.
        ## apiVersion: v1
        ## kind: Secret
        ## metadata:
        ##   name: ibm-baw-wfs-server-db-secret
        ## type: Opaque
        ## data:
        ##   dbUser: <DB_USER>
        ##   password: <DB_USER_PASSWORD>
        secret_name: "ibm-db2-secret"
        ## Oracle and PostgreSQL database connection string.
        ## If the database type is Oracle, provide the Oracle database connection string. For example, jdbc:oracle:thin:@//<oracle_server>:1521/orcl.
        ## If the database type is PostgreSQL, this parameter is optional. For example, jdbc:postgresql://<postgresql_server>:5432/<your_database>. This parameter is not required for PostgreSQL if you enter server_name, database_name, and port. If you do not need this parameter, remove it or comment it out.
        ## In all other cases, remove or comment out this parameter.
        jdbc_url: "<Required>"
        ## Whether to use custom JDBC drivers. Set to true if you are using Oracle, PostgreSQL, or a special Db2 driver.
        use_custom_jdbc_drivers: false
        ## If use_custom_jdbc_drivers is set to true, input the name of the persistent volume claim (PVC) that binds to the persistent volume (PV) where the custom JDBC driver files are stored.
        ## If use_custom_jdbc_drivers is set to false, remove or comment out this parameter.
        custom_jdbc_pvc: "<Required>"
        ## The set of JDBC driver files.
        ## For DB2, it is normally "db2jcc4.jar db2jcc_license_cisuz.jar db2jcc_license_cu.jar".
        ## For Oracle, it is normally "ojdbc8.jar".
        ## For PostgreSQL, it is normally "postgresql-42.2.14.jar".
        jdbc_driver_files: 'db2jcc4.jar db2jcc_license_cisuz.jar db2jcc_license_cu.jar'
        hadr:
          ## Database standby host for high availability disaster recovery (HADR)
          ## To enable database HADR, configure both standby host and port.
          standbydb_host:
          ## Database standby port for HADR. To enable database HADR, configure both standby host and port.
          standbydb_port:
      ## The configurations for content integration for attachment in process
      content_integration:
        ## Domain name for content integration. The value must be the same as initialize_configuration.ic_domain_creation.domain_name.
        domain_name: "P8DOMAIN"
        ## Object Store name for content integration.
        ## The value must be an existing object store in CPE.
        ## If use initialize_configuration for the object store initilization, the value must be one of initialize_configuration.ic_obj_store_creation.object_stores.
        object_store_name: "BAWINS1DOCS"
      ## The configuration for case
      case:
        ## Domain name for CASE. The value must be the same as initialize_configuration.ic_domain_creation.domain_name.
        domain_name: "P8DOMAIN"
        ## Design Object Store name of CASE.
        ## The value must be the same as the oc_cpe_obj_store_symb_name value of one of the object stores defined in initialize_configuration.ic_obj_store_creation.object_stores.
        object_store_name_dos: "BAWINS1DOS"
        ## Target Object Store name of CASE
        ## The value must be the same as the oc_cpe_obj_store_symb_name value of one of the object stores defined in initialize_configuration.ic_obj_store_creation.object_stores.
        object_store_name_tos: "BAWINS1TOS"
        ## refer to initialize_configuration.ic_obj_store_creation.object_stores[x].oc_cpe_obj_store_workflow_pe_conn_point_name
        ## if oc_cpe_obj_store_workflow_pe_conn_point_name not specified explicitly, default value is pe_conn_<TOS_OS_DB_NAME>
        connection_point_name_tos: "<Required>"
        ## Persistent volume claim (PVC) name for case network shared directory.
        ## This parameter must be set to the same value as the Business Automation Navigator pvc_for_icn_pluginstore parameter.
        network_shared_directory_pvc: "{{ navigator_configuration.datavolume.existing_pvc_for_icn_pluginstore
        | default('icn-pluginstore', true) }}"
  ##################################################################################
  ########   IBM Business Automation Machine Learning Server configuration  ########
  ##################################################################################
  baml_configuration:
    ## Intelligent Task Prioritization configuration
    ## if this configuration is enabled, setting bai_configuration.bpmn.install to true
    intelligent_task_prioritization:
    ## Workforce Insights configuration
    ## if this configuration is enabled, setting bai_configuration.bpmn.install to true and bai_configuration.bpmn.force_elasticsearch_timeseries to true
    workforce_insights:
  ########################################################################
  ########   Embedded Elasticsearch configuration                 ########
  ########################################################################
  elasticsearch_configuration:
    ## The Elasticsearch pods require the hosting worker nodes to be configured to:
    ## - disable memory swapping by setting the sysctl value vm.swappiness to 1.
    ## - increase the limit on the number of open files descriptors for the user running Elasticsearch by setting sysctl value vm.max_map_count to 65,536 or higher.
    ## When set to true, a privileged init container will execute the appropriate sysctl commands to update the worker node configuration to match Elasticsearch requirements.
    ## When set to false, you must ask the cluster administrator to change the memory swapping and descriptor properties on each worker node.
    privileged: false
    ## If elasticsearch_configuration.privileged is set to true, you must create a service account that has the privileged SecurityContextConstraint to allow running privileged containers. Refer to Knowledge Center for more info.
    ## If elasticsearch_configuration.service_account not set, default service account "{{ meta.name }}-elasticsearch-service-account" will be used.
    service_account: "<Required>"
  ########################################################################
  ########  IBM FileNet Content Manager initialize configuration  ########
  ########################################################################

